var Fe=Object.defineProperty;var Ee=(a,e,t)=>e in a?Fe(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var z=(a,e,t)=>(Ee(a,typeof e!="symbol"?e+"":e,t),t);import{d as defineComponent,r as ref,b as computed,e as onMounted,w as watch,o as openBlock,c as createElementBlock,f as createBaseVNode,g as withDirectives,v as vModelText,F as Fragment,h as renderList,u as unref,t as toDisplayString,i as vShow,j as createVNode,k as withCtx,l as createCommentVNode,m as d,n as resolveComponent,p as vModelRadio,q as createTextVNode,a as createStaticVNode}from"./app.72eb19af.js";const labs={lab1:{testCode:"",ansCode:"",testCases:"",description:"\u522B\u6025\uFF0C\u7B49 lab1 \u51FA..."},\u81EA\u5B9A\u4E49:{testCode:"",ansCode:"",testCases:"",description:"\u81EA\u5B9A\u4E49\u6D4B\u8BD5\u6837\u4F8B"}},presets=Object.keys(labs);function getPreset(a){return labs[a]}const as=function(){Array.prototype.includes||(Array.prototype.includes=function(s){var n=Object(this),u=parseInt(n.length)||0;if(u===0)return!1;var f=parseInt(arguments[1])||0,i;f>=0?i=f:(i=u+f,i<0&&(i=0));for(var h;i<u;){if(h=n[i],s===h||s!==s&&h!==h)return!0;i++}return!1}),String.prototype.includes||(String.prototype.includes=function(){return typeof arguments[1]=="number"?this.length<arguments[0].length+arguments[1].length?!1:this.substr(arguments[1],arguments[0].length)===arguments[0]:String.prototype.indexOf.apply(this,arguments)!==-1});var a=function(){function s(n,u){var f=[],i=!0,h=!1,v=void 0;try{for(var x=n[Symbol.iterator](),m;!(i=(m=x.next()).done)&&(f.push(m.value),!(u&&f.length===u));i=!0);}catch(l){h=!0,v=l}finally{try{!i&&x.return&&x.return()}finally{if(h)throw v}}return f}return function(n,u){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return s(n,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=Object.assign||function(s){for(var n=1;n<arguments.length;n++){var u=arguments[n];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])}return s};function t(s){if(Array.isArray(s)){for(var n=0,u=Array(s.length);n<s.length;n++)u[n]=s[n];return u}else return Array.from(s)}function r(s){return Array.isArray(s)?s:Array.from(s)}function o(s,n,u){return n in s?Object.defineProperty(s,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[n]=u,s}function c(s){var n=arguments.length<=1||arguments[1]===void 0?function(u){return u}:arguments[1];return function(){try{return{success:!0,result:s.apply(void 0,arguments)}}catch(u){return{success:!1,errorMessage:n(u.message)}}}}function p(s,n){return function(){try{return s.apply(void 0,arguments)}catch(u){throw new Error(n+": "+u.message)}}}var E=65536,F=16,y=65024,b={MEMORY_SIZE:E,WORD_BITS:F,MAX_STANDARD_MEMORY:y};function R(s){if(s=s.toLowerCase(),s.length===0)return NaN;var n=!1;switch(s[0]==="-"&&(s=s.slice(1),n=!0),s[0]){case"x":var u=s.slice(1);if(u.match(/[^0-9a-f]/))return NaN;var i=parseInt(u,16);return n?-i:i;case"b":var f=s.slice(1);if(f.match(/[^01]/))return NaN;var i=parseInt(f,2);return n?-i:i;default:if(s.match(/[^0-9]/))return NaN;var i=parseInt(s);return n?-i:i}}function B(s){var n=arguments.length<=1||arguments[1]===void 0?4:arguments[1],u=arguments.length<=2||arguments[2]===void 0?"x":arguments[2],f=s.toString(16).toUpperCase();return f.length<n&&(f=Array(n-f.length+1).join("0")+f),u+f}function C(s){return s=s%(1<<F)&(1<<F)-1,s&1<<F-1?s-(1<<F):s}function M(s){var n=C(s);return n<0?n+(1<<F):n}function le(s,n){var u=s&1<<n-1;return C(u?s-(1<<n):s&(1<<n)-1)}function ne(s){var n=s&4,u=s&2,f=s&1;return!!n+!!u+!!f!=1?null:n?-1:f?1:0}function ce(s){switch(ne(s)){case null:return"Invalid";case-1:return"N";case 0:return"Z";case 1:return"P"}}var L={parseNumber:R,toHexString:B,toInt16:C,toUint16:M,signExtend16:le,getConditionCode:ne,formatConditionCode:ce};function de(s){var n=c(function(){var u=he(s),f=ve(u),i=f.orig,h=f.begin,v=me(u,i,h),x=v.symbolTable,m=Ce(u,x,i,h);return{orig:i,symbolTable:x,machineCode:m}})(s);return n.success?n.result:{error:[n.errorMessage]}}function T(s){var n=s.match(/^[Rr]([0-7])$/);if(n)return parseInt(n[1]);throw new Error("Invalid register specification: '"+s+"'")}function S(s){var n=new Error("Invalid numeric literal: '"+s+"'"),u=s.charAt(0);if(u!=="#"&&u.toLowerCase()!=="x"&&u.toLowerCase()!=="b")throw n;var f=u==="#",i=s.charAt(1)==="-",h=f?s.substring(i?2:1):i?u+s.substring(2):s,v=L.parseNumber(h);if(isNaN(v)||i&&v<0)throw n;return i?-v:v}function fe(s){var n=function(g){throw new Error("while parsing the string "+s+": "+g)};s.length<2&&n("this string is way too short! You need at least two characters just for the quote marks.");var u='"';(s.charAt(0)!==u||s.charAt(s.length-1)!==u)&&n("the string needs to start and end with "+("double quotation marks (e.g.: "+u+"I'm a string"+u+")."));var f=new Array(s.length-2),i=void 0;for(i=1;i<s.length-1;i++){var h=s.charAt(i),v=function(g){return n("at index "+i+": "+g)};if(h==='"'&&v("unescaped double quote found before end of string"),h==="\\"){var x=s.charAt(++i),m={0:"\0",n:`
`,r:"\r",'"':'"',"\\":"\\"}[x];x===void 0&&v("unsupported escape character '"+x+"'"),f[i]=m}else f[i]=h}return(i>=s.length||s.charAt(i)!=='"')&&n("unterminated string literal! Did you accidentally backslash-escape the closing quote?"),f.join("")}function he(s){return s.split(/\r?\n/).map(pe)}function pe(s,n){for(var u=s.trimLeft(),f=p(fe,"on line "+(n+1)),i=0,h=1,v=2,x=i,m=[],l="",g=0;g<s.length;g++){var D=u.charAt(g),_=!!D.match(/\s/),A=D===",",O=D==='"';if(x===i){if(_||A)continue;x=O?v:h}if(D===";"&&x!==v)break;x===h?_||A?(m.push(l),x=i,l=""):l+=D:x===v&&(l+=D,D==="\\"?l+=u.charAt(++g):O&&l.length>1&&(m.push(f(l)),x=i,l=""))}return l.length>0&&(x===h?m.push(l):x===v&&m.push(f(l))),m}function ve(s){var n=s.findIndex(function(x){return x.length>0});if(n===-1)throw new Error("Looks like your program's empty! You need at least an .ORIG directive and an .END directive.");var u=s[n],f=u.some(function(x){return x.toUpperCase()===".ORIG"});if(!f)throw new Error("The first non-empty, non-comment line of your program needs to have an .ORIG directive!");if(u[0].toUpperCase()!==".ORIG")throw new Error(".ORIG directive cannot have a label!");var i=u.length-1;if(i!==1)throw new Error("The .ORIG directive expects exactly one operand, "+("but it looks like you have "+i+"!"));var h=u[1],v=p(S,"while parsing .ORIG directive operand")(h);if(v!==L.toUint16(v))throw new Error(".ORIG operand ("+h+") is out of range! It should be between 0 and 0xFFFF, inclusive.");return{orig:v,begin:n+1}}function xe(s){if(s.match(/[^A-Za-z0-9_]/))return!1;var n=c(S)(s);return!n.success}function ae(s,n){switch(s.toUpperCase()){case".FILL":return 1;case".BLKW":if(n<0)throw new Error("a .BLKW needs to have a non-negative length, "+("but I found "+n));return n;case".STRINGZ":return n.length+1;default:return 1}}function me(s,n,u){var f={symbols:{},address:n,seenEndDirective:!1},i=function(l){var g=b.MEMORY_SIZE;if(l>g)throw new Error("currently at address "+L.toHexString(l)+", which is past the memory limit "+("of "+L.toHexString(g)))},h=function(l,g){var D=l.address+g;return i(D),e({},l,{address:D})},v={handleEnd:function(l){return e({},l,{seenEndDirective:!0})},handleLabel:function(l,g){i(l.address+1);var D=g[0],_=l.symbols[D];if(_!==void 0)throw new Error("label name "+D+" already exists; "+("it points to "+L.toHexString(_)));return e({},l,{symbols:e({},l.symbols,o({},D,l.address))})},handleDirective:function(l,g){if(l.seenEndDirective)return l;var D=r(g),_=D[0],A=D.slice(1),O=function(){var k=function(){if(A.length!==1)throw new Error("expected "+_+" directive to have exactly one operand, "+("but found "+A.length))};switch(_.toUpperCase()){case".BLKW":case".FILL":return k(),S(A[0]);case".STRINGZ":return k(),A[0];default:return null}}();return h(l,ae(_,O))},handleInstruction:function(l,g){return l.seenEndDirective?l:h(l,ae(g[0],null))}},x=ie(s,u,v,f);if(!x.seenEndDirective)throw new Error("no .END directive found!");return{symbolTable:x.symbols,programLength:x.address-n}}function ge(s,n,u,f){var i=function(m){var l=-(1<<f-1),g=(1<<f-1)-1;if(!(l<=m&&m<=g))throw new Error("offset "+m+" is out of range; "+("it must fit into "+f+" bits, ")+("so it should be between "+l+" and "+g+", inclusive"));return m},h=c(S)(n);if(h.success)return i(h.result);if(!(n in u))throw new Error("the offset '"+n+"' is not a valid numeric literal, but I can't find it in the symbol table either; did you misspell a label name?");var v=u[n];return i(v-s)}function ye(s){var n=s[0],u=s[1];switch(n.toUpperCase()){case".FILL":return[L.toUint16(S(u))];case".BLKW":return new Array(L.toUint16(S(u))).fill(0);case".STRINGZ":return u.split("").map(function(f){return f.charCodeAt(0)}).concat([0]);default:throw new Error("unrecognized directive: "+n)}}function be(s,n,u){var f=s[0],i=f.toUpperCase(),h=s.slice(1),v=function(w){if(h.length!==w){var I=w===1?"operand":"operands";throw new Error("expected "+f+" instruction to have "+("exactly "+w+" "+I+", but found "+h.length))}},x=function(w,I,se){var W=-(1<<I-1),oe=(1<<I-1)-1;if(W<=w&&w<=oe)return L.toUint16(w)&(1<<I)-1;throw new Error(se+" is out of range: "+("expected value to fit in "+I+" bits ")+("(i.e., to be between "+W+" and "+oe+", inclusive), ")+("but found "+w))},m=function(w,I){var se="while parsing the offset for a "+f,W=p(ge,se)(n,w,u,I);return L.toUint16(W)&(1<<I)-1},l={GETC:32,OUT:33,PUTS:34,IN:35,PUTSP:36,HALT:37},g=l[i];if(g!==void 0)return v(0),[61440|g];var D={ADD:1,AND:5,NOT:9,BR:0,BRP:0,BRZ:0,BRZP:0,BRN:0,BRNP:0,BRNZ:0,BRNZP:0,JMP:12,RET:12,JSR:4,JSRR:4,LD:2,LDI:10,LDR:6,LEA:14,RTI:8,ST:3,STI:11,STR:7,TRAP:15},_=D[i];if(_===void 0)throw new Error('unrecognized instruction "'+f+'"');var A=_<<12;if(i==="ADD"||i==="AND"){v(3);var O=h.slice(0,2).map(function(Z){return T(Z)}),k=a(O,2),$=k[0],Q=k[1],U=h[2],N=c(S)(U),K=N.success?32|x(N.result,5,"immediate field"):0|T(U);return[A|$<<9|Q<<6|K]}else if(_===0){v(1);var Y=i==="BR"?[!0,!0,!0]:["N","Z","P"].map(function(Z){return i.substring(2).includes(Z)}),V=a(Y,3),j=V[0],J=V[1],H=V[2],G=j<<2|J<<1|H<<0,P=m(h[0],9);return[A|G<<9|P]}else{if(i==="JMP")return v(1),[A|T(h[0])<<6];if(i==="RET")return v(0),[A|7<<6];if(i==="JSR")return v(1),[A|1<<11|m(h[0],11)];if(i==="JSRR")return v(1),[A|0<<11|T(h[0])<<6];if(["LD","LDI","LEA","ST","STI"].includes(i)){v(2);var X=T(h[0]),P=m(h[1],9);return[A|X<<9|P]}else if(i==="LDR"||i==="STR"){v(3);var ue=T(h[0]),ee=T(h[1]),P=m(h[2],6);return[A|ue<<9|ee<<6|P]}else if(i==="NOT"){v(2);var $=T(h[0]),te=T(h[1]);return[A|$<<9|te<<6|63]}else{if(i==="RTI")return v(0),[A];if(i==="TRAP"){v(1);var re="while parsing the trap vector",q=p(S,re)(h[0]);if(!(0<=q&&q<=255))throw new Error("trap vector out of range: expected value to be an unsigned byte (i.e., between 0 and 255, inclusive), "+("but found "+q));return[A|q]}else throw new Error("internal error: unhandled instruction "+f)}}}function Ce(s,n,u,f){var i={machineCode:[],address:u,seenEndDirective:!1},h=function(l,g){return e({},l,{machineCode:l.machineCode.concat(g),address:l.address+g.length})},v={handleDirective:function(l,g){return l.seenEndDirective?l:h(l,ye(g))},handleInstruction:function(l,g){if(l.seenEndDirective)return l;var D=l.address+1;return h(l,be(g,D,n))},handleEnd:function(l){return e({},l,{seenEndDirective:!0})}},x=ie(s,f,v,i);if(!x.seenEndDirective)throw new Error("missing .END directive");return x.machineCode}function ie(s,n,u,f){var i=function(N){return N},h=u.handleLabel,v=h===void 0?i:h,x=u.handleDirective,m=x===void 0?i:x,l=u.handleInstruction,g=l===void 0?i:l,D=u.handleEnd,_=D===void 0?i:D,A="GETC OUT PUTS IN PUTSP HALT".split(" "),O=["ADD","AND","NOT","BR","BRP","BRZ","BRZP","BRN","BRNP","BRNZ","BRNZP","JMP","RET","JSR","JSRR","LD","LDI","LDR","LEA","RTI","ST","STI","STR","TRAP"],k=[".FILL",".BLKW",".STRINGZ"],$=[].concat(t(A),O,k),Q=s.slice(n);return Q.reduce(function(U,N,K){if(N.length===0)return U;var Y="at line "+(K+n+1),V=function(ee){var te=arguments.length<=1||arguments[1]===void 0?U:arguments[1],re=arguments.length<=2||arguments[2]===void 0?N:arguments[2];return p(ee,Y)(te,re,K)},j=N[0];if(j.toUpperCase()===".END")return V(_);var J=!$.includes(j.toUpperCase());if(J&&!xe(j))throw new Error(Y+": this line looks like a label, "+("but '"+j+"' is not a valid label name; ")+"you either misspelled an instruction or entered an invalid name for a label");var H=J?V(v):U,G=N.slice(J?1:0);if(G.length===0)return H;var P=G[0].toUpperCase(),X=P.charAt(0)===".";return U.address+1,V(X?m:g,H,G)},f)}return de}(),hexbin=function(){var a=function(r){return(r||"").split(`
`).map(function(o){return o.split(";")[0]}).join(`
`)},e=function(r){for(var o=r.split(`
`),c=0;c<o.length;c++){var p=o[c],E=p.match(/[^\s0-9A-Fa-f]/);if(!!E){var F=E[0],y="Invalid character '"+F+"' at line "+(c+1);return{error:y}}}var b=r.replace(/\s/g,""),R=!!b.match(/[^01]/),B=R?4:16;if(b.length%B!==0){var C=b.length===1?"character":"characters",M=R?"hexadecimal":"binary",y="Found a total of "+b.length+" "+C+", but expected to find a multiple of "+B+" for "+M+" data.";return{error:y}}return{type:R?"hex":"binary"}},t=function(r,o){var c=r.replace(/\s/g,""),p=o==="hex"?4:16,E=new Array(c.length/p);if(E.length===0){var F="Your raw data is empty! You need to at least have an origin (.ORIG) address.";return{error:F}}for(var y=0;y<E.length;y++){var b=p*y;E[y]=c.substr(b,p)}var R=o==="hex"?16:2,B=E.map(function(C){return parseInt(C,R)});return{orig:B[0],machineCode:B.slice(1)}};return function(r){var o=a(r),c=e(o);if(c.error)return c;var p=c.type;return t(o,p)}}();function Queue(){var a=[],e=0;this.getLength=function(){return a.length-e},this.isEmpty=function(){return a.length==0},this.enqueue=function(t){a.push(t)},this.dequeue=function(){if(a.length!=0){var t=a[e];return 2*++e>=a.length&&(a=a.slice(e),e=0),t}},this.peek=function(){return 0<a.length?a[e]:void 0}}const lc3osSymbols={TRAP_GETC:1024,TRAP_OUT:1072,TRAP_PUTS:1104,TRAP_IN:1184,TRAP_PUTSP:1248,TRAP_HALT:64880},lc3os={32:1024,33:1072,34:1104,35:1184,36:1248,37:64880,1024:15879,1025:40964,1026:2046,1027:40963,1028:11779,1029:49600,1030:65024,1031:65026,1072:15882,1073:12808,1074:41477,1075:2046,1076:45060,1077:8708,1078:11780,1079:49600,1080:65028,1081:65030,1104:15894,1105:12306,1106:12818,1107:13330,1108:25088,1109:1029,1110:41993,1111:2046,1112:45576,1113:4129,1114:4089,1115:8200,1116:8712,1117:9224,1118:11784,1119:49600,1120:65028,1121:65030,1122:62461,1123:62462,1184:15878,1185:57350,1186:61474,1187:61472,1188:61473,1189:11777,1190:49600,1191:12289,1248:15911,1249:12322,1250:12834,1251:13346,1252:13858,1253:4640,1254:24640,1255:1030,1256:18445,1257:9240,1258:20482,1259:1026,1260:4705,1261:4088,1262:8212,1263:18438,1264:8211,1265:8723,1266:9235,1267:9747,1268:11795,1269:49600,1270:15878,1271:42503,1272:2049,1273:4092,1274:45059,1275:11777,1276:49600,1278:65030,1279:65028,1280:62461,1281:62462,1282:65280,64768:15934,64769:12348,64770:8199,64771:61473,64772:57350,64773:61474,64774:61477,64775:8246,64776:11830,64777:49600,64880:15886,64881:12812,64882:12298,64883:57356,64884:61474,64885:41519,64886:8239,64887:20544,64888:45100,64889:8195,64890:8707,64891:11779,64892:49600,64933:65534,64934:32767,65028:32768,65534:65535},LC3Util={parseNumber:function(a){if(a=a.toLowerCase(),a.length==0)return NaN;var e=!1;switch(a[0]==="-"&&(a=a.slice(1),e=!0),a[0]){case"x":var t=a.slice(1);if(t.match(/[^0-9a-f]/))return NaN;var o=parseInt(t,16);return e?-o:o;case"b":var r=a.slice(1);if(r.match(/[^01]/))return NaN;var o=parseInt(r,2);return e?-o:o;default:if(a.match(/[^0-9]/))return NaN;var o=parseInt(a);return e?-o:o}},toHexString:function(a,e){var t=a.toString(16).toUpperCase();return e=e||4,t.length<e&&(t=Array(e-t.length+1).join("0")+t),"x"+t},toInt16:function(a){return a=a%65536&65535,a&32768?a-65536:a},toUint16:function(a){var e=this.toInt16(a);return e<0?e+65536:e},signExtend16:function(a,e){var t=a>>e-1&1;if(t===1)for(var r=e;r<16;r++)a|=1<<r;else a&=(1<<e)-1;return this.toInt16(a)}};class Core{constructor(){this.totalInstruction=0,this.memory=new Array(65536);for(var e=0;e<this.memory.length;e++){var t=lc3os[e];this.memory[e]=t===void 0?0:t}this.listeners=[],this.addListener=function(c){this.listeners.push(c)},this.notifyListeners=function(c){for(var p=0;p<this.listeners.length;p++)this.listeners[p](c)},this.r=new Array(8),this.specialRegisters=["pc","ir","psr"],this.resetAllRegisters(),this.labelToAddress={},this.addressToLabel={};for(var r in lc3osSymbols){var o=lc3osSymbols[r];this.setLabel(o,r)}this.maxStandardMemory=65024,this.kbsr=65024,this.kbdr=65026,this.dsr=65028,this.ddr=65030,this.mcr=65534,this.ioLocations=[this.kbsr,this.kbdr,this.dsr,this.ddr],this.kbiv=384,this.div=385,this.kbpl=2,this.dpl=1,this.namedTrapVectors={32:"GETC",33:"OUT",34:"PUTS",35:"IN",36:"PUTSP",37:"HALT"},this.bufferedKeys=new Queue,this.subroutineLevel=0}formatAddress(e){var t=this.addressToLabel[e];return t!==void 0?t:LC3Util.toHexString(e)}getConditionCode(){var e=(this.psr&4)!==0,t=(this.psr&2)!==0,r=(this.psr&1)!==0;if(e^t^r&&!(e&&t&&r))return e?-1:t?0:1}setConditionCode(e){e=LC3Util.toInt16(e);var t=e<0,r=e>0,o=!t&&!r,c=(t?4:0)|(o?2:0)|(r?1:0);this.setRegister("psr",this.psr&65528|c)}nextInstruction(){this.totalInstruction+=1,this.fetch();var e=this.decode(this.ir),t=this.evaluateAddress(this.pc,e),r=this.fetchOperands(t),o=this.execute(e,t,r);return this.storeResult(e,o),e}fetch(){this.ir=this.getMemory(this.pc),this.setRegister("pc",this.pc+1)}decode(e){for(var t={raw:e,strictValid:!0},r=Array(16),o=0;o<r.length;o++)r[o]=e>>o&1;t.opcode=e>>12&15;var c=e&63,p=e>>6&7,E=e&511,F=e>>9&7,y=e&2047;switch(t.opcode){case 1:case 5:t.opname=t.opcode===1?"ADD":"AND",t.dr=F,t.sr1=p,t.mode="none",r[5]===0?(t.arithmeticMode="reg",t.sr2=e&7,(r[4]!==0||r[3]!==0)&&(t.strictValid=!1)):(t.arithmeticMode="imm",t.imm=LC3Util.signExtend16(e&31,5));break;case 0:t.opname="BR",t.n=r[11]==1,t.z=r[10]==1,t.p=r[9]==1,t.mode="pcOffset",t.offset=LC3Util.signExtend16(E,9);break;case 12:t.opname=p===7?"RET":"JMP",t.mode="baseOffset",t.baseR=p,t.offset=0,(F!==0||c!==0)&&(t.strictValid=!1);break;case 4:r[11]===0?(t.opname="JSRR",t.mode="baseOffset",t.baseR=p,t.offset=0,(F!==0||c!==0)&&(t.strictValid=!1)):(t.opname="JSR",t.mode="pcOffset",t.offset=LC3Util.signExtend16(y,11));break;case 2:case 10:t.opname=t.opcode===2?"LD":"LDI",t.dr=F,t.mode="pcOffset",t.offset=LC3Util.signExtend16(E,9);break;case 6:t.opname="LDR",t.dr=F,t.mode="baseOffset",t.baseR=p,t.offset=LC3Util.signExtend16(c,6);break;case 14:t.opname="LEA",t.dr=F,t.mode="pcOffset",t.offset=LC3Util.signExtend16(E,9);break;case 9:t.opname="NOT",t.mode="none",t.dr=F,t.sr=p,c!==63&&(t.strictValid=!1);break;case 8:t.opname="RTI",t.mode="none",e&!0&&(t.strictValid=!1);break;case 3:case 11:t.opname=t.opcode===3?"ST":"STI",t.sr=F,t.mode="pcOffset",t.offset=LC3Util.signExtend16(E,9);break;case 7:t.opname="STR",t.sr=F,t.mode="baseOffset",t.baseR=p,t.offset=LC3Util.signExtend16(c,6);break;case 15:t.opname="TRAP",t.mode="trap",t.trapVector=e&255,(e&3840)!==0&&(t.strictValid=!1);break;default:t.opname="reserved",t.strictValid=!1;break}return t}evaluateAddress(e,t){return t.mode==="none"?null:t.mode==="pcOffset"?LC3Util.toUint16(e+t.offset):t.mode==="baseOffset"?LC3Util.toUint16(this.getRegister(t.baseR)+t.offset):t.mode==="trap"?t.trapVector:void 0}fetchOperands(e){return e==null?e:this.readMemory(e)}execute(e,t,r){switch(e.isIO=!1,e.opcode){case 1:case 5:var o=this.getRegister(e.sr1),c=e.arithmeticMode==="reg"?this.getRegister(e.sr2):e.imm;return e.opcode===1?o+c:o&c;case 0:var p=this.getConditionCode(),E=e.n&&p<0||e.z&&p===0||e.p&&p>0;return E&&this.setRegister("pc",t),null;case 12:return this.setRegister("pc",t),e.opname==="RET"&&this.subroutineLevel--,null;case 4:return this.setRegister(7,this.pc),this.setRegister("pc",t),this.subroutineLevel++,null;case 2:return this.ioLocations.indexOf(t)!==-1&&(e.isIO=!0),r;case 10:return this.ioLocations.indexOf(r)!==-1&&(e.isIO=!0),this.readMemory(r);case 6:return this.ioLocations.indexOf(t)!==-1&&(e.isIO=!0),r;case 14:return t;case 9:return LC3Util.toUint16(~this.getRegister(e.sr));case 8:if((this.psr&32768)!==0){var y={type:"exception",exception:"privilege"};this.notifyListeners(y),this.halt()}else{var F=this.r[6];this.setRegister("pc",this.readMemory(F)),this.setRegister("psr",this.readMemory(F+1)),this.setRegister(6,F+2)}return null;case 3:return this.ioLocations.indexOf(t)!==-1&&(e.isIO=!0),this.writeMemory(t,this.getRegister(e.sr)),null;case 11:return this.ioLocations.indexOf(r)!==-1&&(e.isIO=!0),this.writeMemory(r,this.getRegister(e.sr)),null;case 7:return this.ioLocations.indexOf(t)!==-1&&(e.isIO=!0),this.writeMemory(t,this.getRegister(e.sr)),null;case 15:return this.setRegister(7,this.pc),this.setRegister("pc",r),this.subroutineLevel++,null;case 13:var y={type:"exception",exception:"opcode"};return this.notifyListeners(y),this.halt(),null;default:return}}storeResult(e,t){switch(e.opcode){case 1:case 5:case 9:this.setRegister(e.dr,t),this.setConditionCode(t);break;case 0:case 12:case 4:return;case 2:case 10:case 6:case 14:this.setRegister(e.dr,t),this.setConditionCode(t);break;case 8:return;case 3:case 11:case 7:return}}instructionToString(e,t){var r=this.decode(t);if(!r.strictValid)return".FILL "+LC3Util.toHexString(r.raw);var o=function(M){return"R"+M};if(!r.strictValid)return".FILL "+LC3Util.toHexString(r.raw);var c=r.opname+" ",p=e+1,E=this.evaluateAddress(p,r);switch(r.opcode){case 1:case 5:var F=o(r.sr1),y=r.arithmeticMode=="reg"?o(r.sr2):"#"+r.imm,b=o(r.dr);return c+[b,F,y].join(", ");case 9:return c+[o(r.dr),o(r.sr)].join(", ");case 0:if((r.raw&3584)===0||r.offset===0)return"NOP";var R="BR";return r.n&&(R+="n"),r.z&&(R+="z"),r.p&&(R+="p"),R+" "+this.formatAddress(E);case 12:var B=r.baseR;return B===7?"RET":"JMP "+o(B);case 4:return r.mode==="pcOffset"?c+this.formatAddress(E):c+o(r.baseR);case 2:case 10:case 14:return c+[o(r.dr),this.formatAddress(E)].join(", ");case 6:return c+[o(r.dr),o(r.baseR),"#"+r.offset].join(", ");case 8:return r.opname;case 3:case 11:return c+[o(r.sr),this.formatAddress(E)].join(", ");case 7:return c+[o(r.sr),o(r.baseR),"#"+r.offset].join(", ");case 15:var C=this.namedTrapVectors[E];return C!==void 0?C:c+LC3Util.toHexString(E,2);default:return null}}instructionAddressToString(e){return this.instructionToString(e,this.getMemory(e))}setLabel(e,t){this.unsetLabelGivenAddress(e),this.unsetLabelGivenName(t),this.labelToAddress[t]=e,this.addressToLabel[e]=t;var r={type:"labelset",address:e,label:t};this.notifyListeners(r)}unsetLabelGivenAddress(e){var t=this.addressToLabel[e],r=t!==void 0;return r?(this.unsetLabel_internal_(e,t),!0):!1}unsetLabelGivenName(e){var t=this.labelToAddress[e],r=t!==void 0;return r?(this.unsetLabel_internal_(t,e),!0):!1}unsetLabel_internal_(e,t){delete this.addressToLabel[e],delete this.labelToAddress[t];var r={type:"labelunset",address:e,label:t};this.notifyListeners(r)}getMemory(e){return this.memory[e]}setMemory(e,t){var r={type:"memset",address:e,newValue:t};this.memory[e]=LC3Util.toUint16(t),this.notifyListeners(r)}readMemory(e){return e===this.kbdr&&this.setMemory(this.kbsr,this.getMemory(this.kbsr)&32767),this.getMemory(e)}writeMemory(e,t){e===this.ddr&&this.setMemory(this.dsr,this.getMemory(this.dsr)&32767),this.setMemory(e,t)}getRegister(e){if(!isNaN(e)&&e>=0&&e<this.r.length)return this.r[e];for(var t=0;t<this.specialRegisters.length;t++){var r=this.specialRegisters[t];if(r===e)return this[r]}}setRegister(e,t){t=LC3Util.toUint16(t);var r={type:"regset",register:void 0,newValue:t};if(!isNaN(e)&&e>=0&&e<this.r.length)return r.register=e,this.r[e]=t,this.notifyListeners(r),!0;for(var o=0;o<this.specialRegisters.length;o++){var c=this.specialRegisters[o];if(c===e)return r.register=c,this[c]=t,this.notifyListeners(r),!0}return!1}resetNumericRegisters(){for(var e=0;e<this.r.length;e++)this.r[e]=0}resetAllRegisters(){this.resetNumericRegisters(),this.pc=12288,this.ir=0,this.psr=32770}formatConditionCode(){var e=this.getConditionCode();return e===void 0?"Invalid":e>0?"P":e<0?"N":"Z"}sendKey(e){this.bufferedKeys.enqueue(e),this.notifyListeners({type:"bufferchange"})}clearBufferedKeys(){this.bufferedKeys=new Queue,this.notifyListeners({type:"bufferchange"})}isRunning(){return(this.getMemory(this.mcr)&32768)!==0}halt(){this.setMemory(this.mcr,this.getMemory(this.mcr)&32767)}unhalt(){this.setMemory(this.mcr,this.getMemory(this.mcr)|32768)}loadAssembled(e){if(e.error)return!1;for(var t=e.orig,r=e.machineCode,o=e.symbolTable||{},c=0;c<r.length;c++)this.setMemory(t+c,r[c]);for(var p in o)this.setLabel(o[p],p);this.setRegister("pc",t)}interrupt(e,t){if(!(e<=(this.psr&1792)>>8)){var r=this.getRegister(6);r--,this.setMemory(r,this.psr),r--,this.setMemory(r,this.pc),this.psr&=30968,this.psr|=(e&7)<<8,this.setRegister("pc",t),this.setRegister(6,r)}}}class CaseResult{constructor(e,t,r,o){z(this,"testcase");z(this,"expectedResult");z(this,"state");z(this,"yourResult");this.testcase=e,this.expectedResult=t,this.state=r,this.yourResult=o}}function caseTest(a,e,t){const r=[];a.pc=12288,a.psr=32770;for(let o=0;o<=e;o++){let c;const p=a.decode(a.getMemory(a.pc));if(t){const E=a.instructionAddressToString(a.pc);r.push(`\u6267\u884C x${a.pc.toString(16)}\uFF1A${E}`),c=Array.from(a.r)}if(p.raw>=61440&&p.raw<=61695||p.raw===0)return t?[String(o),...r]:[String(o)];a.nextInstruction(),t&&a.r.forEach((E,F)=>{if(E!==c[F]){const y=r.pop();r.push(`${y}\uFF0CR${F} \u7531 ${c[F]} \u53D8\u4E3A ${E}`)}})}return t?[String(e),...r]:[String(e)]}function lc3bench(code,testCode,ansCode,testcases,instrLimit,log){const ans=[""],lc3=new Core,asResult=as(code),hexbinResult=hexbin(code);if(!("error"in asResult))lc3.loadAssembled(asResult),ans.push("(\u4F5C\u4E3A\u6C47\u7F16\u4EE3\u7801\u5904\u7406)");else{if("error"in hexbinResult)return["\u4EE3\u7801\u65E0\u6CD5\u88AB\u8BC6\u522B\u4E3A\u6B63\u786E\u7684\u673A\u5668\u7801\u6216\u8005\u6C47\u7F16\u4EE3\u7801...",`\u673A\u5668\u7801\uFF1A${hexbinResult.error}`,`\u6C47\u7F16\uFF1A${asResult.error}`];if(hexbinResult.orig!==12288){const a=hexbin(`0011000000000000
${code}`);lc3.loadAssembled(a)}else lc3.loadAssembled(hexbinResult);ans.push("(\u4F5C\u4E3A\u673A\u5668\u7801\u5904\u7406)")}let expectedResult,yourResult;try{eval(`expectedResult = ${testCode}`)}catch{return["\u8BC4\u6D4B\u51FD\u6570\u7F16\u5199\u51FA\u73B0\u8BED\u6CD5\u9519\u8BEF..."]}try{eval(`yourResult = ${ansCode}`)}catch{return["\u83B7\u53D6\u7B54\u6848\u51FD\u6570\u7F16\u5199\u51FA\u73B0\u8BED\u6CD5\u9519\u8BEF..."]}log&&(testcases=[testcases[0]]);const caseResults=testcases.map(a=>new CaseResult(a,expectedResult(a),caseTest(lc3,instrLimit,log),yourResult()));let totalInstructions=0,passCases=0;caseResults.forEach(a=>{const e=Number(a.state[0]);totalInstructions+=e,e>=instrLimit?ans.push(`\u5F02\u5E38\u6837\u4F8B: ${a.testcase} \u8D85\u51FA\u6700\u5927\u6267\u884C\u6307\u4EE4\u6570\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u8C03\u6574\u8BBE\u7F6E\uFF0C\u6216\u8005\u53EF\u80FD\u53D1\u751F\u4E86\u6B7B\u5FAA\u73AF`):a.expectedResult===a.yourResult?(passCases++,ans.push(`\u901A\u8FC7\u6837\u4F8B: ${a.testcase}. \u6307\u4EE4\u6570: ${e}, \u9884\u671F\u7ED3\u679C: ${a.expectedResult}, \u4F60\u7684\u8F93\u51FA: ${a.yourResult}`)):ans.push(`\u5931\u8D25\u6837\u4F8B: ${a.testcase}. \u6307\u4EE4\u6570: ${e}, \u9884\u671F\u7ED3\u679C: ${a.expectedResult}, \u4F60\u7684\u8F93\u51FA: ${a.yourResult}`),log&&ans.push(...a.state.slice(1))});const totalCases=caseResults.length;return ans.push(`\u5E73\u5747\u6307\u4EE4\u6570: ${totalInstructions/totalCases}`),ans[0]=`\u901A\u8FC7: ${passCases} / ${totalCases}`,ans}const _hoisted_1$1={class:"card"},_hoisted_2={class:"form-item"},_hoisted_3=createBaseVNode("span",{class:"label"},"\u5355\u6837\u4F8B\u6700\u5927\u6307\u4EE4\u6570",-1),_hoisted_4={class:"form-item"},_hoisted_5=createBaseVNode("span",{class:"label"},"\u9009\u62E9\u8BC4\u6D4B\u5B9E\u9A8C",-1),_hoisted_6={style:{display:"flex"}},_hoisted_7=["id","value"],_hoisted_8=["for"],_hoisted_9={class:"card",style:{"margin-bottom":"2em"}},_hoisted_10=createBaseVNode("span",{class:"label"},"\u5B9E\u9A8C\u8981\u6C42",-1),_hoisted_11={class:"form-item"},_hoisted_12=createBaseVNode("span",{class:"label"},"\u6D4B\u8BD5\u6837\u4F8B\uFF0C\u6837\u4F8B\u4E4B\u95F4\u4EE5\u82F1\u6587\u9017\u53F7\u5206\u5272",-1),_hoisted_13={class:"form-item"},_hoisted_14=createBaseVNode("span",{class:"label"},"\u4EE3\u7801\u6587\u672C",-1),_hoisted_15={class:"form-item"},_hoisted_16=createBaseVNode("span",{class:"label"},"\u8BC4\u6D4B\u51FD\u6570",-1),_hoisted_17={class:"form-item"},_hoisted_18=createBaseVNode("span",{class:"label"},"\u7B54\u6848\u51FD\u6570",-1),_hoisted_19={class:"form-item"},_hoisted_20=createBaseVNode("span",{class:"label"},"\u542F\u7528\u8C03\u8BD5\u6A21\u5F0F\uFF08\u652F\u6301\u8FFD\u8E2A pc \u548C\u5BC4\u5B58\u5668\u53D8\u5316\uFF09",-1),_hoisted_21={style:{display:"flex","justify-content":"flex-end"}},_hoisted_22=createTextVNode(" \u8BC4\u6D4B "),_hoisted_23={key:0,class:"card",style:{"margin-top":"2em"}},_hoisted_24=createBaseVNode("span",{class:"label"},"\u8BC4\u6D4B\u7ED3\u679C",-1),_sfc_main$1=defineComponent({__name:"Judge",setup(a){const e=ref(1e5),t=ref("\u81EA\u5B9A\u4E49"),r=ref(getPreset(t.value)),o=ref(""),c=ref(!1),p=ref([]),E=computed(()=>r.value.testCases.split(",").map(y=>y.trim()).filter(Boolean));onMounted(()=>{var y;o.value=(y=window.localStorage.getItem("lc3code"))!=null?y:""}),watch(o,y=>{window.localStorage.setItem("lc3code",y)}),watch(t,y=>{r.value=getPreset(y),p.value=[]}),watch(c,y=>{y&&d({message:"\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F\u540E\u4E3A\u4E86\u907F\u514D\u6DF7\u6DC6\uFF0C\u53EA\u663E\u793A\u7B2C\u4E00\u4E2A\u6837\u4F8B",type:"primary"})});const F=()=>{p.value=[],![[!o.value,"\u5F85\u6D4B\u4EE3\u7801"],[!r.value.testCode,"\u8BC4\u6D4B\u51FD\u6570"],[!r.value.ansCode,"\u7B54\u6848\u51FD\u6570"],[!E.value.length,"\u6D4B\u8BD5\u6837\u4F8B"]].filter(b=>b[0]).map(b=>`\u7F3A\u5C11${b[1]}\uFF0C\u65E0\u6CD5\u8BC4\u6D4B`).map(b=>d({message:b,type:"danger"})).length&&(p.value=lc3bench(o.value,r.value.testCode,r.value.ansCode,E.value,e.value,c.value))};return(y,b)=>{const R=resolveComponent("f-switch"),B=resolveComponent("f-button");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[_hoisted_3,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":b[0]||(b[0]=C=>e.value=C),type:"number",style:{border:"0.5px solid",padding:"0.5em",margin:"4px"}},null,512),[[vModelText,e.value]])]),createBaseVNode("div",_hoisted_4,[_hoisted_5,createBaseVNode("div",_hoisted_6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(presets),C=>(openBlock(),createElementBlock("div",{key:C,style:{margin:"4px"}},[withDirectives(createBaseVNode("input",{id:C,"onUpdate:modelValue":b[1]||(b[1]=M=>t.value=M),type:"radio",value:C},null,8,_hoisted_7),[[vModelRadio,t.value]]),createBaseVNode("label",{for:C},toDisplayString(C),9,_hoisted_8)]))),128))])]),createBaseVNode("div",_hoisted_9,[_hoisted_10,createBaseVNode("div",null,toDisplayString(r.value.description),1)]),createBaseVNode("div",_hoisted_11,[_hoisted_12,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":b[2]||(b[2]=C=>r.value.testCases=C),style:{border:"0.5px solid",padding:"0.5em",margin:"4px","box-sizing":"border-box",width:"100%"}},null,512),[[vModelText,r.value.testCases]])]),createBaseVNode("div",_hoisted_13,[_hoisted_14,withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":b[3]||(b[3]=C=>o.value=C),rows:"10",placeholder:"\u5728\u6B64\u8F93\u5165\u5F85\u8BC4\u6D4B\u7684\u6C47\u7F16\u4EE3\u7801\u6216\u8005\u673A\u5668\u7801",style:{border:"0.5px solid",margin:"4px"}},null,512),[[vModelText,o.value]])]),withDirectives(createBaseVNode("div",_hoisted_15,[_hoisted_16,withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":b[4]||(b[4]=C=>r.value.testCode=C),rows:"10",placeholder:"\u4E00\u4E2A js \u51FD\u6570\uFF0C\u63A5\u53D7\u5355\u4E2A\u6837\u4F8B\uFF08\u5B57\u7B26\u4E32\uFF09\u4F5C\u4E3A\u53C2\u6570\uFF0C\u521D\u59CB\u5316 lc3.r \u548C lc3.memory\uFF08\u5BC4\u5B58\u5668\u6570\u7EC4\u548C\u5185\u5B58\u6570\u7EC4\uFF09\uFF0C\u5E76\u8FD4\u56DE\u5BF9\u4E8E\u6BCF\u4E2A\u6837\u4F8B\u800C\u8A00\u9884\u671F\u7684\u8F93\u51FA",style:{border:"0.5px solid",margin:"4px"}},null,512),[[vModelText,r.value.testCode]])],512),[[vShow,t.value==="\u81EA\u5B9A\u4E49"]]),withDirectives(createBaseVNode("div",_hoisted_17,[_hoisted_18,withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":b[5]||(b[5]=C=>r.value.ansCode=C),rows:"10",placeholder:"\u4E00\u4E2A js \u51FD\u6570\uFF0C\u8FD4\u56DE\u6D4B\u8BD5\u7ED3\u675F\u540E\u8BFB\u53D6 lc3 \u6A21\u62DF\u5668\u7684\u54EA\u4E2A\u53D8\u91CF\uFF08\u5982 lc3.r \u548C lc3.memory \u6570\u7EC4\u4E2D\u7684\u67D0\u4E00\u9879\uFF09\u7684\u503C\u4F5C\u4E3A\u7528\u6237\u7A0B\u5E8F\u8FD0\u884C\u7684\u8F93\u51FA\uFF08\u5373\u8BC4\u6D4B\u4F9D\u636E\uFF09",style:{border:"0.5px solid",margin:"4px"}},null,512),[[vModelText,r.value.ansCode]])],512),[[vShow,t.value==="\u81EA\u5B9A\u4E49"]]),createBaseVNode("div",_hoisted_19,[_hoisted_20,createVNode(R,{modelValue:c.value,"onUpdate:modelValue":b[6]||(b[6]=C=>c.value=C)},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_21,[createVNode(B,{type:"primary",onClick:b[7]||(b[7]=C=>F())},{default:withCtx(()=>[_hoisted_22]),_:1})]),p.value.length?(openBlock(),createElementBlock("div",_hoisted_23,[_hoisted_24,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(p.value,C=>(openBlock(),createElementBlock("li",{key:C},toDisplayString(C),1))),128))])])):createCommentVNode("",!0)])}}}),Judge_vue_vue_type_style_index_0_lang="",_hoisted_1=createStaticVNode(`<h1 id="lc3-\u6A21\u62DF\u8BC4\u6D4B" tabindex="-1">lc3 \u6A21\u62DF\u8BC4\u6D4B <a class="header-anchor" href="#lc3-\u6A21\u62DF\u8BC4\u6D4B" aria-hidden="true">#</a></h1><h2 id="\u8BF4\u660E" tabindex="-1">\u8BF4\u660E <a class="header-anchor" href="#\u8BF4\u660E" aria-hidden="true">#</a></h2><p>\u672C\u5DE5\u5177\u53D7\u5230 <a href="https://github.com/wchargin/lc3web" target="_blank" rel="noreferrer">https://github.com/wchargin/lc3web</a> \u7684\u542F\u53D1\uFF0C\u53EF\u7528\u4E8E (2022) \u5E74 USTC ICS(CS1002A) \u8BFE\u7A0B\u7684\u81EA\u52A9\u8BC4\u6D4B\uFF0C\u652F\u6301\u8BC6\u522B\u6C47\u7F16\u4EE3\u7801\u6216\u673A\u5668\u7801</p><p>\u7EA6\u5B9A\u5982\u4E0B\uFF1A</p><ul><li>\u7EDF\u4E00\u4EE5 0x3000 \u4F5C\u4E3A\u8BC4\u6D4B\u7A0B\u5E8F\u5165\u53E3</li><li>\u673A\u5668\u7801\u5F00\u5934\u53EF\u4EE5\u5305\u542B 0011000000000000 (0x3000) \u5165\u53E3\u5730\u5740\uFF0C\u4E5F\u53EF\u4EE5\u4E0D\u5305\u542B</li><li>\u6CE8\u610F\u683C\u5F0F\uFF1A <ul><li>\u4EE3\u7801\u4E2D\u7684\u6CE8\u91CA\u9700\u8981\u5199\u5728\u82F1\u6587\u5206\u53F7\u4E4B\u540E</li><li>\u6C47\u7F16\u4EE3\u7801\u9700\u8981\u5199 <code>.ORIG</code> \u548C <code>.END</code></li><li>\u6C47\u7F16\u4EE3\u7801\u53C2\u6570\u9700\u8981\u7528\u82F1\u6587\u9017\u53F7\u5206\u5272</li><li>......</li></ul></li></ul><h2 id="\u81EA\u5B9A\u4E49\u8BC4\u6D4B\u529F\u80FD\u8BF4\u660E" tabindex="-1">\u81EA\u5B9A\u4E49\u8BC4\u6D4B\u529F\u80FD\u8BF4\u660E <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u8BC4\u6D4B\u529F\u80FD\u8BF4\u660E" aria-hidden="true">#</a></h2><p>\uFF08\u5982\u679C\u53EA\u9700\u8981\u8BC4\u6D4B\u5B9E\u9A8C\u53EF\u8DF3\u8FC7\uFF09</p><p>\u7528\u6237\u9700\u8981\u8865\u5168\u8BC4\u6D4B\u51FD\u6570\u548C\u7B54\u6848\u51FD\u6570\u4E24\u4E2A\u51FD\u6570</p><p>\u5176\u4E2D\uFF0C\u8BC4\u6D4B\u51FD\u6570\u9700\u8981\u8D1F\u8D23\u521D\u59CB\u5316\u5BC4\u5B58\u5668\u548C\uFF08\u91CD\u7F6E\u6BCF\u6B21\u4F7F\u7528\u5230\u7684\uFF09\u5185\u5B58\u7684\u503C\uFF0C\u5177\u4F53\u6765\u8BF4\uFF0C\u51FD\u6570\u5185\u90E8\u53EF\u4EE5\u901A\u8FC7 <code>lc3.r</code> \u548C <code>lc3.memory</code> \u6765\u8BBF\u95EE\u5BC4\u5B58\u5668\u6570\u7EC4\u53D8\u91CF\u548C\u5185\u5B58\u6570\u7EC4\u53D8\u91CF\u3002\u524D\u8005\u957F\u5EA6\u4E3A <code>8</code>\uFF0C\u540E\u8005\u957F\u5EA6\u4E3A <code>65536</code></p><p>\u4F8B\u5982\uFF0C\u5982\u679C\u521D\u59CB\u8F93\u5165\u5B58\u50A8\u5728 R0, \u76EE\u6807\u662F\u5C06 R0 + R0 \u5B58\u5728 R7\uFF0C\u5BF9\u5E94\u7684\u8BC4\u6D4B\u51FD\u6570\u793A\u4F8B\uFF1A</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">testcase</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u8F93\u5165\u662F\u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u8F6C\u6362\u4E3A\u6570\u5B57</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">input</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">parseInt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">testcase</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u521D\u59CB\u5316\u5BC4\u5B58\u5668</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">lc3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">r</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">input</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u8FD4\u56DE\u9884\u8BA1\u7684\u6B63\u786E\u7B54\u6848\uFF0C\u6700\u597D\u662F\u6570\u5B57</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">input</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">input</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u7B54\u6848\u51FD\u6570\u793A\u4F8B\uFF1A</p><div class="language-js"><button class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// \u6CA1\u6709\u53C2\u6570</span></span>
<span class="line"><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u8BFB\u53D6 R7 \u5BC4\u5B58\u5668</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lc3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">r</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">7</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8BC4\u6D4B" tabindex="-1">\u8BC4\u6D4B <a class="header-anchor" href="#\u8BC4\u6D4B" aria-hidden="true">#</a></h2>`,14),__pageData=JSON.parse('{"title":"lc3 \u6A21\u62DF\u8BC4\u6D4B","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u8BF4\u660E","slug":"\u8BF4\u660E"},{"level":2,"title":"\u81EA\u5B9A\u4E49\u8BC4\u6D4B\u529F\u80FD\u8BF4\u660E","slug":"\u81EA\u5B9A\u4E49\u8BC4\u6D4B\u529F\u80FD\u8BF4\u660E"},{"level":2,"title":"\u8BC4\u6D4B","slug":"\u8BC4\u6D4B"}],"relativePath":"judge.md","lastUpdated":1662281166000}'),__default__={name:"judge.md"},_sfc_main=Object.assign(__default__,{setup(a){return(e,t)=>(openBlock(),createElementBlock("div",null,[_hoisted_1,createVNode(_sfc_main$1)]))}});export{__pageData,_sfc_main as default};
