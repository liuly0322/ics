# lc3 模拟评测

## 说明

本工具受到 <https://github.com/wchargin/lc3web> 的启发，可用于 (2022) 年 USTC ICS(CS1002A) 课程的自助评测，支持识别汇编代码或机器码

约定如下：

- 统一以 0x3000 作为评测程序入口
- 机器码开头可以包含 0011000000000000 (0x3000) 入口地址，也可以不包含
- 注意格式：
  - 代码中的注释需要写在英文分号之后
  - 汇编代码需要写 `.ORIG` 和 `.END`
  - 汇编代码参数需要用英文逗号分割
  - ......

## 自定义评测功能说明

（如果只需要评测实验可跳过）

用户需要补全评测函数和答案函数两个函数

其中，评测函数需要负责初始化寄存器和（重置每次使用到的）内存的值，具体来说，函数内部可以通过 `lc3.r` 和 `lc3.memory` 来访问寄存器数组变量和内存数组变量。前者长度为 `8`，后者长度为 `65536`

例如，如果初始输入存储在 R0, 目标是将 R0 + R0 存在 R7，对应的评测函数示例：

```js
(testcase) => {
  // 输入是字符串，需要转换为数字
  const input = parseInt(testcase)
  // 初始化寄存器
  lc3.r[0] = input
  // 返回预计的正确答案，最好是数字
  return input + input
}
```

答案函数示例：

```js
// 没有参数
() => {
  // 读取 R7 寄存器
  return lc3.r[7]
}
```

## 评测

<Judge />

<script setup>
import Judge from '@theme/Judge.vue'
</script>