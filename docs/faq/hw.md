# HW && Lab Q&A

## Q: HW3 T4 题意不太清楚?

意思就是要你算执行这条指令每个 phase 花去多少 cycle, 然后对于不访存的 phase, 如果在这条指令执行时有这个 phase, 算 1 周期, 不包含算 0, 对于访存的 phase, 按照题意算周期.

## Q：Lab5 一些问题和提示

1. 实验要求对于每次键盘输入即时响应，所以汉诺塔的合法输入也只能有一位，也就是说 $0\le N\le 9$。因此输出数字的范围也是有限的，为了方便起见，我们不要求去除输出的前导 0，也即输出 007 和 7 同样都是正确的。

2. 编写递归程序涉及到用户栈 (USP)，用户栈使用的时候要给 R6 设置一个合法的初始位置，比如 xFDFF。

3. 本次实验只能使用 LC3Tools 进行测试，没有网站的评测。同时在使用软件测试时，需要注意：
    - 键盘输入需要点进左下角的 console 再输入 (click to focus)，不然不能正常读入。
    - 一定要在设置里打开 `Ignore privileged mode` 选项，否则会导致程序异常终止。

4. 实验只需要在提供的 starter code 的基础上编写 x3000 的 user program 和 x1000 的 interrupt service，两部分之间的关联（也即中断），已经在 x800 的地方写好了。

5. 有人问 x800 的 code set KBSR 的时候为什么这么麻烦，这是为了不改变其他位，这里的处理是 clear bit 14，之后在 ADD 掩码，也可以考虑对 KBSR 取反后，clear bit 14 再取反，也能达到一样的目的。
